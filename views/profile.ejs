<!DOCTYPE html>
 <html>
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">

      <title>Datos de aspirante UAZ</title>
      <link rel="shortcut icon" href="img/logo.png">

      <!-- Bootstrap -->
      <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
      <!-- Styles -->
      <link rel="stylesheet" type="text/css" href="./css/styles.css">
      <link rel="stylesheet" type="text/css" href="./css/misestilos2.css">
      <!-- Icons -->
      <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,800&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
  <!-- En este código se mostrará la información que el alumno introdujo en el formulario para que la vea-->
  </head>
  <body>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <div id="agrupar">
    <header id="cabecera">
        <div id="head" class="parallax" parallax-speed="2">
          <img class="img-circle" src="img/logo.png" alt="" >
          <h1 id="logo" class="text-center">
            <span class="tagline">UNIVERSIDAD AUTONOMA DE ZACATECAS<br>
          </h1>
        </div>
    </header>

  <section id="seccion">
  <form id="aspirantesUAZ">
  <!-- A partir de aquí inicia el commit de Loro-->
   <div class="card-body">
    <div class="container card-profile-body">
        <h2 class="title text-center">
          <b>Datos del Aspirante</b>
        </h2>
        <!-- Aquí se muestra la imagen de los datos guardados, por el momento es un placeholder-->
        <div class="profile-place">
          <p id="profile-text">Foto de Comprobante:</p>
          <img id ="img_placeholder" src="<%= result.image %>">
          <br>
        </div>
        <!-- hasta acá -->
        <!-- Placeholder de los datos -->
       <div class="datos-container">
         <div>
          <div>
            <div class="col input-group col-sm" style="margin-top: 10px">
            <!--
              <input class="input--style-4 form-control" type="text" name="whCurp" id="whCurp" oninput="validarInput(this)" placeholder="CURP" 
              pattern="^[A-Z][A,E,I,O,U,X][A-Z]{2}[0-9]{2}[0-1][0-9][0-3][0-9][M,H][A-Z]{2}[B,C,D,F,G,H,J,K,L,M,N,Ñ,P,Q,R,S,T,V,W,X,Y,Z]{3}[0-9,A-Z][0-9]$">
             
                <button onclick="showdata()" class="btn-property btn--radius-2 btn--uaz btn-outline-secondary">Buscar</button>
              -->
            </div>
            <div class="col"> 
              <pre id="resultado"></pre>
            </div>
            <div class="col" style="margin-top: 10px">
              <input class="input--style-4" type="text" id="curp" placeholder="curp" name="curp" value="<%= result.curp %>" readonly> <br>
            </div>
            <div class="col" style="margin-top: 10px">
              <input class="input--style-4" type="text" id="nombreCompleto" placeholder="nombre completo" name="nombreCompleto" value="<%= result.nombre %> <%= result.primerapellido %> <%= result.segundoapellido %>" readonly> <br>
            </div>
            <div class="col" style="margin-top: 10px">
              <input class="input--style-4" type="text" id="sexo" placeholder="sexo" name="sexo" value="<%= result.genero %>" readonly> <br>
            </div>
            <div class="col" style="margin-top: 10px">
              <input class="input--style-4" type="text" id="fechaNac" placeholder="fecha de nacimiento" name="fechaNac" value="<%= result.fechanac %>" readonly>  <br>
            </div>
            <div class="col" style="margin-top: 10px">
              <input class="input--style-4" type="text" id="entidad" placeholder="entidad" name="entidad" value="<%= result.estado %>" readonly>  <br>
              <br>
              <label class="label">Pago Validado </label>
                  <div class="p-t-10 margin-left">
                    <label class="radio-container" > Si
                      <input type="radio" id="validaPago" name="validaPago" value="Pago Realizado" >
                      <span class="radio"></span>
                    </label> <br>
                    <label class="radio-container"> No
                      <input type="radio" id="validaPago" name="validaPago" value=""  >
                      <span class="radio"></span>
                    </label>
                  </div>
              <form action="/save" method="post">
              <button class="btn btn--radius-2 btn--uaz" type="submit" id="botonEnvio" style="float: right;">Guardar</button>
            </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
</div>
        <!-- Aqui empieza la tabla -->
            <div class="container">
                <div class="row justify-content-start">
                  <div class="col align-self-start">
                      <hr size="2px" class="bd--" />
                        <section id="tablaContenedor">
                          <table id="tabla" class="table table-striped table-bordered table-hover">
                            <tr>
                              <th>Curp</th>
                              <th>Nombre Completo</th>
                              <th>Estatus</th>
                            </tr>
                          </table>
                        </section>
                    </div>
                </div>
            <!-- </div>  Aqui termina la tabla -->
       <!-- aquí termina el placeholder de los datos-->
      </div>
      <!-- Aca acaba el contenedor de los datos -->
    </div>
  </section>


  <div class="container">
    <footer id="pie" class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
       <div class="col-md-4 d-flex align-items-center">
         <a href="/" class="mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1">
           <svg class="bi" width="30" height="24"><use xlink:href="#bootstrap"/></svg>
         </a>
         <span class="text-muted">&copy; 2022 UNIVERSIDAD AUTONOMA DE ZACATECAS</span>
       </div>
     </footer>
   </div>
   <script src="./js/theme.js"></script>
   <script>
       const form = document.getElementById("aspirantesUAZ");

       form.addEventListener("submit", function(event) {
        event.preventDefault();
        let transactionFormData = new FormData(form);
        insertarFilas(transactionFormData);
       })

       function insertarFilas (transactionFormData) {
        let transactionTableRef = document.getElementById("tabla");
        let newTransactionRowRef = transactionTableRef.insertRow(-1);

        let newDataRef = newTransactionRowRef.insertCell(0);
        newDataRef.textContent = "<%= result.curp %>";

        newDataRef = newTransactionRowRef.insertCell(1);
        newDataRef.textContent = transactionFormData.get("nombreCompleto");

        newDataRef = newTransactionRowRef.insertCell(2);
        newDataRef.textContent = transactionFormData.get("validaPago");
    }

    //función de pruebas
        function showdata(){
        document.getElementById("nombreCompleto").value = "Gerardo Rivas Delgado"
        document.getElementById("sexo").value = "Hombre"
        document.getElementById("entidad").value = "NE"
        document.getElementById("fechaNac").value = "22/01/2003"
    }
    

   </script>
   </body>
   </html>